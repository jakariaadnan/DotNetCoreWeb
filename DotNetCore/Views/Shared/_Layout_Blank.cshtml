@using DotNetCore.Services.AuthService.Interfaces;
@using DotNetCore.Services.Employee.Interfaces;
@*@inject IUserInfoes userInfo;*@
@inject IEmployeeService emplyeeService;
@{
//var emp = await userInfo.GetEmployeeInfoByUserName(User.Identity.Name);
//var userPhoto = await emplyeeService.GetEmployeePhotographByEmpId(emp.Id);
}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Mannat Themes">
    <meta name="keyword" content="">

    <title>Officers' Portfolio</title>

    <!-- Theme icon -->
    <link rel="shortcut icon" href="~/images/favicon.ico">

    <!-- Datatable -->
    <link href="~/plugins/datatables/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="~/plugins/datatables/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="~/plugins/datatables/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />

    <link href="~/plugins/morris-chart/morris.css" rel="stylesheet">
    <link href="~/plugins/select2/select2.min.css" rel="stylesheet" type="text/css" />
    <!-- Theme Css -->
    <link href="~/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/css/slidebars.min.css" rel="stylesheet">
    <link href="~/css/icons.css" rel="stylesheet">
    <link href="~/css/menu.css" rel="stylesheet" type="text/css">
    <link href="~/css/style.css" rel="stylesheet">
    <link href="~/css/jquery-ui.css" rel="stylesheet" />
    <link href="~/plugins/sweet-alert/sweetalert2.min.css" rel="stylesheet" type="text/css" />
    @*<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">*@
    <link href="~/plugins/timepicker/bootstrap-material-datetimepicker.css" rel="stylesheet">
    <link href="~/plugins/jquery-multi-select/multi-select.css" rel="stylesheet" type="text/css" />
    <link href="~/plugins/select2/select2.min.css" rel="stylesheet" type="text/css" />


    <style>
        .right-notification .notification-menu > li > a > img {
            width: 46px;
            height: 48px;
            border-radius: 50%;
        }
    </style>
</head>
<body class="sticky-header">
    <div class="container-fluid p-0 bg-light">
        <section>
            <div class="sidebar-left">
                <div class="sidebar-left-info" style="background-color:whitesmoke!important">

                </div>
            </div><!-- sidebar left end-->
            <!-- sidebar left start-->
            <!-- body content start-->
            <div class="body-content ml-0">
                <!-- header section start-->
                <div class="header-section">


                    <div class="notification-wrap">
                        <!--right notification start-->

                        <div class="right-notification">
                            <ul class="notification-menu">

                                <li>
                                    <div class="logo" style="background-color:white;">
                                        <a href="/Employee/EmployeeInfo/Index">
                                            <span class="logo-img ml-3">
                                                <img src="~/images/bd_police.png" alt="" width="100%" height="60">
                                            </span>
                                        </a>

                                    </div>
                                </li>

                                <li>
                                    <a href="javascript:;" data-toggle="dropdown">
                                        @*@if (userPhoto != null)
                                        {
                                            <img src="~/@userPhoto.url" alt="" class="img-fluid rounded-circle" style="width:55px;height:57px;margin-bottom:0;padding-bottom:-24px">
                                        }
                                        else
                                        {
                                            <img src="~/images/users/userImage.jpg" alt="" class="img-fluid rounded-circle" style="width:55px;height:57px;margin-bottom:0;padding-bottom:-24px">
                                        }*@
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right profile-menu fixed-top" style="min-width: 173px;border-radius: 20px;">
                                        <a class="dropdown-item" href="#"><i class="mdi mdi-account-circle m-r-5 text-muted"></i> Profile</a>
                                        <a class="dropdown-item" href="#" data-toggle="modal" data-target="#changePasswordModal"><i class=" mdi mdi-key-change m-r-5 text-muted"></i>Change Password</a>
                                        <a class="dropdown-item" href="#"><i class="mdi mdi-lock-open-outline m-r-5 text-muted"></i> Lock screen</a>
                                        <a class="dropdown-item" href="/Auth/Account/Logout"><i class="mdi mdi-logout m-r-5 text-muted"></i> Logout</a>
                                    </div>

                                </li>

                                <li>
                                    <div class="pr-4">

                                    </div>
                                </li>
                            </ul>
                        </div><!--right notification end-->
                    </div>
                </div>
                <!-- header section end-->

                <div class="container-fluid">
                    @*<partial name="_CookieConsentPartial" />*@
                    @RenderBody()
                </div><!--end container-->
                <!--footer section start-->
                <footer class="footer">
                    @DateTime.Now.Year &copy; OPUS TECHNOLOGY LTD.
                </footer>
                <!--footer section end-->
                <!-- Right Slidebar start -->
                <div class="sb-slidebar sb-right sb-style-overlay">
                    <div class="right-bar slimscroll">
                        <span class="r-close-btn sb-close"><i class="fa fa-times"></i></span>

                        <ul class="nav nav-tabs nav-justified-">
                            <li class="">
                                <a href="#chat" class="active" data-toggle="tab">Chat</a>
                            </li>
                            <li class="">
                                <a href="#activity" data-toggle="tab">Activity</a>
                            </li>
                            <li class="">
                                <a href="#settings" data-toggle="tab">Settings</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" id="chat">
                                <div class="online-chat">
                                    <div class="online-chat-container">
                                        <div class="chat-list">
                                            <form class="search-content" action="index.html" method="post">
                                                <input type="text" id="formcontrol" class="form-control" name="keyword" placeholder="Search...">
                                                <span class="search-button"><i class="ti ti-search"></i></span>
                                            </form>
                                        </div>
                                        <div class="side-title-alt">
                                            <h2>online</h2>
                                        </div>

                                        <ul class="team-list chat-list-side">
                                            <li>
                                                <a href="#" class="ml-3">
                                                    <span class="thumb-small">
                                                        <img class="rounded-circle" src="~/images/users/avatar-1.jpg" alt="">
                                                        <i class="online dot"></i>
                                                    </span>
                                                    <div class="inline">
                                                        <span class="name">Alison Jones</span>
                                                        <small class="text-muted">Start exploring</small>
                                                    </div>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="ml-3">
                                                    <span class="thumb-small">
                                                        <img class="rounded-circle" src="~/images/users/avatar-3.jpg" alt="">
                                                        <i class="online dot"></i>
                                                    </span>
                                                    <div class="inline">
                                                        <span class="name">Jonathan Smith</span>
                                                        <small class="text-muted">Alien Inside</small>
                                                    </div>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="ml-3">
                                                    <span class="thumb-small">
                                                        <img class="rounded-circle" src="~/images/users/avatar-4.jpg" alt="">
                                                        <i class="away dot"></i>
                                                    </span>
                                                    <div class="inline">
                                                        <span class="name">Anjelina Doe</span>
                                                        <small class="text-muted">Screaming...</small>
                                                    </div>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="ml-3">
                                                    <span class="thumb-small">
                                                        <img class="rounded-circle" src="~/images/users/avatar-5.jpg" alt="">
                                                        <i class="busy dot"></i>
                                                    </span>
                                                    <div class="inline">
                                                        <span class="name">Franklin Adam</span>
                                                        <small class="text-muted">Don't lose the hope</small>
                                                    </div>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="ml-3">
                                                    <span class="thumb-small">
                                                        <img class="rounded-circle" src="~/images/users/avatar-6.jpg" alt="">
                                                        <i class="online dot"></i>
                                                    </span>
                                                    <div class="inline">
                                                        <span class="name">Jeff Crowford </span>
                                                        <small class="text-muted">Just flying</small>
                                                    </div>
                                                </a>
                                            </li>
                                        </ul>

                                        <div class="side-title-alt mb-3">
                                            <h2>Friends</h2>
                                        </div>
                                        <ul class="list-unstyled friends">
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-7.jpg" alt="">
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-8.jpg" alt="">
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-9.jpg" alt="">
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-10.jpg" alt="">
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-2.jpg" alt="">
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-1.jpg" alt="">
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-3.jpg" alt="">
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <img class="rounded-circle" src="~/images/users/avatar-4.jpg" alt="">
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div role="tabpanel" class="tab-pane " id="activity">

                                <div class="aside-widget">
                                    <div class="side-title-alt">
                                        <h2>Recent Activity</h2>
                                    </div>
                                    <ul class="team-list chat-list-side info">
                                        <li>
                                            <span class="thumb-small">
                                                <i class="fa fa-pencil"></i>
                                            </span>
                                            <div class="inline">
                                                <span class="name">Mary Brown open a new company</span>
                                                <span class="time">just now</span>
                                            </div>
                                        </li>
                                        <li>
                                            <span class="thumb-small">
                                                <i class="fa fa-user-plus"></i>
                                            </span>
                                            <div class="inline">
                                                <span class="name">Mary Brown send a new message </span>
                                                <span class="time">50 min ago</span>
                                            </div>
                                        </li>
                                        <li>
                                            <span class="thumb-small">
                                                <i class="fa fa-wrench"></i>
                                            </span>
                                            <div class="inline">
                                                <span class="name">Holly Cobb Uploaded 6 new photos.</span>
                                                <span class="time">3 Week Ago</span>
                                            </div>
                                        </li>
                                        <li>
                                            <span class="thumb-small">
                                                <i class="fa fa-users"></i>
                                            </span>
                                            <div class="inline">
                                                <span class="name">Mary Brown open a new company.</span>
                                                <span class="time">1 Month Ago</span>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                                <div class="aside-widget">

                                    <div class="side-title-alt">
                                        <h2>Events</h2>
                                    </div>
                                    <ul class="team-list chat-list-side info statistics border-less-list">
                                        <li>
                                            <div class="inline">
                                                <p class="mb-1">Jamie Miller</p>
                                                <span class="name">Contrary to popular belief, Lorem Ipsum is not simply random text.</span>
                                                <span class="time text-muted">2 Week Ago</span>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="inline">
                                                <p class="mb-1">Robert Jones</p>
                                                <span class="name">Lorem Ipsum is simply dummy text of the printing and typesetting .</span>
                                                <span class="time text-muted">1 Month Ago</span>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div role="tabpanel" class="tab-pane " id="settings">
                                <div class="side-title-alt">
                                    <h6 class="mb-0">Account Setting</h6>
                                </div>
                                <ul class="team-list chat-list-side info statistics border-less-list setting-list">
                                    <li>
                                        <div class="inline">
                                            <span class="name">Auto updates</span>
                                        </div>
                                        <span class="thumb-small">
                                            <input type="checkbox" checked data-plugin="switchery" data-color="#079c9e" data-size="small" />
                                        </span>
                                    </li>
                                    <li>
                                        <div class="inline">
                                            <span class="name">Show offline Contacts</span>
                                        </div>
                                        <span class="thumb-small">
                                            <input type="checkbox" checked data-plugin="switchery" data-color="#079c9e" data-size="small" />
                                        </span>
                                    </li>

                                    <li>
                                        <div class="inline">
                                            <span class="name">Location Permission</span>
                                        </div>
                                        <span class="thumb-small">
                                            <input type="checkbox" checked data-plugin="switchery" data-color="#079c9e" data-size="small" />
                                        </span>
                                    </li>
                                </ul>

                                <div class="side-title-alt">
                                    <h6 class="mb-0">General Setting</h6>
                                </div>
                                <ul class="team-list chat-list-side info statistics border-less-list setting-list">
                                    <li>
                                        <div class="inline">
                                            <span class="name">Show me Online</span>
                                        </div>
                                        <span class="thumb-small">
                                            <input type="checkbox" checked data-plugin="switchery" data-color="#079c9e" data-size="small" />
                                        </span>
                                    </li>
                                    <li>
                                        <div class="inline">
                                            <span class="name">Status visible to all</span>
                                        </div>
                                        <span class="thumb-small">
                                            <input type="checkbox" checked data-plugin="switchery" data-color="#079c9e" data-size="small" />
                                        </span>
                                    </li>

                                    <li>
                                        <div class="inline">
                                            <span class="name">Notifications</span>
                                        </div>
                                        <span class="thumb-small">
                                            <input type="checkbox" checked data-plugin="switchery" data-color="#079c9e" data-size="small" />
                                        </span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!--end Right Slidebar-->
            </div>
            <!--end body content-->
        </section>
    </div>

    <!-- Change Password Modal-->
    <div class="modal fade" id="changePasswordModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    @*<img src="~/images/Aloha New Logo.png" style="height:50px;" />*@
                    @*<h5 class="modal-title" id="exampleModalLabel">Change Password </h5>*@
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12 text-center">
                                <img src="~/logo/passwordChange.PNG" style="width:128px;height:114px;" /> <br />
                                <h4 class="text-center card-header">Password Change</h4> <hr />
                            </div>
                        </div>
                        <form id="changePasswordForm" data-parsley-validate="parsley">
                            <div class="form-group row">
                                <label class="col-md-4 col-lg-4 col-sm-12 mt-2" style="color:black;" for="OldPassword">Current Password</label>
                                <div class="col-md-8 col-lg-8 col-sm-12">
                                    <input style="border-radius:20px" type="password" class="form-control" id="OldPassword" name="OldPassword" autocomplete="off" data-parsley-required="true" />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-4 col-lg-4 col-sm-12 mt-2" style="color:black;" for="Password">New Password</label>
                                <div class="col-md-8 col-lg-8 col-sm-12">
                                    <input style="border-radius:20px" type="password" class="form-control" id="Password" name="Password" autocomplete="off" data-parsley-required="true" />
                                    <label class="errorMessage" style="color:red"></label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-4 col-lg-4 col-sm-12 mt-2" style="color:black;" for="ConfirmPassword">Confirm Password</label>
                                <div class="col-md-8 col-lg-8 col-sm-12">
                                    <input style="border-radius:20px" type="password" class="form-control" id="ConfirmPassword" name="ConfirmPassword" autocomplete="off" data-parsley-required="true" />
                                    <label class="errorMessage" style="color:red"></label>
                                </div>
                                <div class="col-12 text-center">
                                    <span style="color:#b0b0b0">Password must Contains with at least one numeric character</span>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-12 col-lg-12 col-sm-12 text-center">
                                    <button type="button" onclick="changePassBtnSubmit()" style="border-radius:20px;" class="btn btn-success ml-1">Change</button>
                                </div>
                            </div>
                        </form>
                    </div>


                </div>
            </div>
        </div>
    </div>


    @*<div class="container">
            <main role="main" class="pb-3">
                @RenderBody()
            </main>
        </div>*@

    <!-- jQuery -->
    <script src="~/js/jquery-3.2.1.min.js"></script>
    <script src="~/js/popper.min.js"></script>
    <script src="~/js/bootstrap.min.js"></script>
    <script src="~/js/jquery-migrate.js"></script>
    <script src="~/js/modernizr.min.js"></script>
    <script src="~/js/jquery.slimscroll.min.js"></script>
    <script src="~/js/slidebars.min.js"></script>
    <script src="~/js/common.js"></script>
    <script src="~/plugins/timepicker/moment.js"></script>
    <script src="~/plugins/clockpicker/jquery-clockpicker.min.js"></script>
    <script src="~/plugins/tagsinput/jquery.tagsinput.min.js"></script>
    <script src="~/plugins/switchery/switchery.min.js"></script>
    <script src="~/plugins/toggles/toggles.min.js"></script>
    <script src="~/plugins/timepicker/tempusdominus-bootstrap-4.js"></script>
    <script src="~/plugins/timepicker/bootstrap-material-datetimepicker.js"></script>
    <script src="~/plugins/select2/select2.min.js" type="text/javascript"></script>
    <script src="~/plugins/sweet-alert/sweetalert2.min.js"></script>
    @*<script src="~/pages/jquery.sweet-alert.init.js"></script>*@
    <script type="text/javascript" src="~/plugins/parsleyjs/dist/parsley.min.js"></script>
    @*<script src="~/plugins/select2/select2.min.js" type="text/javascript"></script>*@
    @*<script src="~/pages/jquery.form-advance.init.js" type="text/javascript"></script>*@
    @*<script src="https://sta
        <script src="~/plugins/timepicker/bootstrap-material-datetimepicker.js"></script>
        <script src="~/pages/jquery.form-advance.init.js" type="text/javascript"></script>pt>*@
    <!--app js-->

    <script src="~/js/jquery-ui.js"></script>

    <script src="~/js/jquery.app.js"></script>

    <script type="text/javascript">
        function changePassBtnSubmit() {

            var myData = $("#changePasswordForm").serialize();


            var oldPass = $("#OldPassword").val();
            var pass = $("#Password").val();
            var confirmPass = $("#ConfirmPassword").val();


            if (oldPass == null || oldPass == '') {

                swal('Warning', 'Invalid OldPassword!', 'warning');
                return false;
            }
            else if (pass == null || pass == '') {

                swal('Warning', 'Invalid Password!', 'warning');
                return false;
            }
            else if (confirmPass == null || confirmPass == '') {

                swal('Warning', 'Invalid Confirm Password!', 'warning');
                return false;
            }
            else if ((pass != '' && pass != null && confirmPass != '' && confirmPass != null)) {

                if (pass != confirmPass) {

                    $(".errorMessage").text("password and confirm password does't match");
                    $(".errorMessage").show();

                    swal('Warning', 'Password and Confirm Password Does Not Match!', 'warning');
                    return false;
                }
            }



            $.ajax({

                url: "/Auth/Account/ChangePassword",
                type: "post",
                data: myData,
                success: function (response) {

                    if (response == "success") {

                        swal({
                            title: 'Success!', text: 'Password Update Successfully', type: 'success', confirmButtonColor: '#3085d6', confirmButtonText: 'Ok!',
                        }).then(function () {
                            window.location.href = "/Home/Index";
                        });
                    }
                    else {

                        swal('error', 'Something is Wrong Please Try Again !!!', 'error');
                        return false;
                    }

                }
            });

        }

        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            var expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            location.reload(true);
        }

        function getCookie(name) {
            var re = new RegExp(name + "=([^;]+)");
            var value = re.exec(document.cookie);
            return (value != null) ? unescape(value[1]) : null;
        }

        jQuery(document).ready(function ($) {
            var getLan = getCookie('lang');
            $('#lanBAN').val(getLan);

            $('#lanBAN').change(function () {
                let lan = $(this).val();
                setCookie('lang', lan, 30);
            });


            //$('.counter').counterUp({
            //    delay: 100,
            //    time: 1200
            //});
            var body = jQuery('body');
            body.addClass('sidebar-collapsed');
            jQuery('.side-navigation ul').attr('style', '');


        });

        function ClearLocalStorage() {
            window.localStorage.clear();
        }

    </script>

    @RenderSection("Scripts", required: false)
</body>

</html>
